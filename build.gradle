plugins {
    id "java"
    id "com.github.johnrengelman.shadow" version "8.1.1"
    id "io.papermc.paperweight.userdev" version "1.5.4"
    id "xyz.jpenilla.run-paper" version "2.0.1"
}

repositories {
    mavenCentral()
    maven {
        url "https://repo.papermc.io/repository/maven-public/"
    }
    maven {
        url "https://repo.extendedclip.com/content/repositories/placeholderapi/"
    }
}

dependencies {
    paperweight.paperDevBundle "1.19.4-R0.1-SNAPSHOT"
    compileOnly "io.papermc.paper:paper-api:1.19.4-R0.1-SNAPSHOT"
    compileOnly "me.clip:placeholderapi:2.11.1"
    implementation "org.bstats:bstats-bukkit:3.0.2"
}

group "lol.pyr"
version "1.0.2"

compileJava {
    options.release.set(17)
}

shadowJar {
    relocate "org.bstats", "lol.pyr.znpcsplus.lib.bstats"
    minimize()
}

processResources {
    expand("version": version)
}

runServer {
    minecraftVersion "1.19.4"
}

tasks.assemble.dependsOn reobfJar
tasks.compileJava.dependsOn clean
