plugins {
    id "java"
    id "com.github.johnrengelman.shadow" version "8.1.1"
    id "xyz.jpenilla.run-paper" version "2.0.1"
}

dependencies {
    implementation project(path: ":spigot", configuration: "shadow")
    implementation project(":api")
    implementation project(":folia")
}

runServer {
    minecraftVersion "1.19.4"
}

allprojects {
    apply plugin: "java"

    group "lol.pyr"
    version "1.0.5"

    compileJava {
        options.release.set(17)
    }

    repositories {
        mavenCentral()
        maven {
            url "https://hub.spigotmc.org/nexus/content/repositories/snapshots/"
        }
        maven {
            url "https://repo.codemc.io/repository/maven-snapshots/"
        }
        maven {
            url "https://repo.papermc.io/repository/maven-public/"
        }
        maven {
            url "https://repo.extendedclip.com/content/repositories/placeholderapi/"
        }
        maven {
            url "https://jitpack.io/"
        }
    }
}

tasks.assemble.dependsOn shadowJar
tasks.compileJava.dependsOn clean